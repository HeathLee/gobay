bus: &bus
  broker_url: "amqp://guest:guest@127.0.0.1:5672/"
  reconnect_delay: "2s"
  reinit_delay: "1s"
  exhanges:
    - sbay-exchange
  queues:
    - test
  resend_delay: "1s"
  publish_retry: 3
  prefetch: 10
  quit_consumer_on_empty_queue: false
  bindings:
    - exchange: sbay-exchange
      queue: test
      binding_key: buses.oc.post_order_paid

task: &task
  broker: "redis://127.0.0.1:6379/8"
  default_queue: "gobay.task"
  result_backend: "redis://127.0.0.1:6379/8"
  results_expire_in: 1

defaults: &defaults
  db_driver: sqlite3
  db_url: ':memory:'
  short_url_alphabet: 'mn6j2c4rv8bpygw95z7hsdaetxuk3fq'
  task:
    <<: *task
  bus:
    <<: *bus
  sentry:
    dsn: 'http://user:pass@127.0.0.1/5'
    environment: 'default'
    repanic: true
  cache_backend: "memory"
  cache_prefix: "github"
  cache_host: "127.0.0.1:6379"
  cache_password: ""
  cache_db: 3
testing:
  <<: *defaults
  bus:
    <<: *bus
development:
  <<: *defaults
production:
  <<: *defaults
